--
--  $Author: graham_s $
--  $Date: 2007-03-18 10:38:27 +0000 (Sun, 18 Mar 2007) $
--  $Revision: 2378 $
--
with Templates_Parser;
with user;
with legal_aid_runner;      use legal_aid_runner;
with base_model_types;      use base_model_types;
with Ada.Strings.Unbounded; use Ada.Strings.Unbounded;
with AWS.Parameters;        use AWS.Parameters;
with AWS.Session;           use AWS.Session;
with html_utils;            use html_utils;
with la_parameters;         use la_parameters;
with model_household;       use model_household;
with Text_Utils;
with AWS.Log;               use AWS.Log;
with la_log;                use la_log;
with model_household;       use model_household;
with la_parameters;         use la_parameters;
with legal_aid_web_commons; use legal_aid_web_commons;
with la_log;                use la_log;
with format_utils;
with Templates_Parser;
with FRS_Enums; use FRS_Enums;

--
--  FIXME: this is misnamed: it really generates a list of our parameters in
--  AWS Templates_Parser.Tag. format. The original version just generated the differences from base,
--  hence the name, but the current version can produce all of them, plus the params in CSV.
--
package body differences_generator is

   use type Templates_Parser.Vector_Tag;

   procedure make_parameters_tags
     (defaultSys, laSys               : Legal_Aid_Sys;
      ctype                           : Claim_Type;
      pre_values, post_values, titles : in out Templates_Parser.Tag;
      print_all                       : Boolean := False)
   is

   begin
      --
      -- note that most of the code here was autogenerated by the make_la_html.rb in
      -- /home/graham_s/VirtualWorlds/projects/ni_legal_aid/ada/scripts
      -- however the code has had some manual edits since then and it probably best changed
      -- by hand now.
      --
      -- ======= autogenerated ==
      
                      if (print_all or ( defaultSys.contributions(income).contribution_proportion(1) /= lasys.contributions(income).contribution_proportion(1) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_proportion(1)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_proportion(1)'Img;
                        titles := titles & "Contribution Proportion [1]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_band(1) /= lasys.contributions(income).contribution_band(1) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_band(1)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_band(1)'Img;
                        titles := titles & "Contribution Band [1]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_proportion(2) /= lasys.contributions(income).contribution_proportion(2) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_proportion(2)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_proportion(2)'Img;
                        titles := titles & "Contribution Proportion [2]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_band(2) /= lasys.contributions(income).contribution_band(2) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_band(2)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_band(2)'Img;
                        titles := titles & "Contribution Band [2]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_proportion(3) /= lasys.contributions(income).contribution_proportion(3) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_proportion(3)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_proportion(3)'Img;
                        titles := titles & "Contribution Proportion [3]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_band(3) /= lasys.contributions(income).contribution_band(3) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_band(3)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_band(3)'Img;
                        titles := titles & "Contribution Band [3]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_proportion(4) /= lasys.contributions(income).contribution_proportion(4) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_proportion(4)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_proportion(4)'Img;
                        titles := titles & "Contribution Proportion [4]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_band(4) /= lasys.contributions(income).contribution_band(4) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_band(4)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_band(4)'Img;
                        titles := titles & "Contribution Band [4]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_proportion(5) /= lasys.contributions(income).contribution_proportion(5) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_proportion(5)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_proportion(5)'Img;
                        titles := titles & "Contribution Proportion [5]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_band(5) /= lasys.contributions(income).contribution_band(5) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_band(5)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_band(5)'Img;
                        titles := titles & "Contribution Band [5]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_proportion(6) /= lasys.contributions(income).contribution_proportion(6) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_proportion(6)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_proportion(6)'Img;
                        titles := titles & "Contribution Proportion [6]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_band(6) /= lasys.contributions(income).contribution_band(6) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_band(6)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_band(6)'Img;
                        titles := titles & "Contribution Band [6]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_proportion(7) /= lasys.contributions(income).contribution_proportion(7) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_proportion(7)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_proportion(7)'Img;
                        titles := titles & "Contribution Proportion [7]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_band(7) /= lasys.contributions(income).contribution_band(7) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_band(7)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_band(7)'Img;
                        titles := titles & "Contribution Band [7]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_proportion(8) /= lasys.contributions(income).contribution_proportion(8) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_proportion(8)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_proportion(8)'Img;
                        titles := titles & "Contribution Proportion [8]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_band(8) /= lasys.contributions(income).contribution_band(8) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_band(8)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_band(8)'Img;
                        titles := titles & "Contribution Band [8]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_proportion(9) /= lasys.contributions(income).contribution_proportion(9) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_proportion(9)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_proportion(9)'Img;
                        titles := titles & "Contribution Proportion [9]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_band(9) /= lasys.contributions(income).contribution_band(9) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_band(9)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_band(9)'Img;
                        titles := titles & "Contribution Band [9]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_proportion(10) /= lasys.contributions(income).contribution_proportion(10) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_proportion(10)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_proportion(10)'Img;
                        titles := titles & "Contribution Proportion [10]";
                end if;

                if (print_all or ( defaultSys.contributions(income).contribution_band(10) /= lasys.contributions(income).contribution_band(10) )) then
                        pre_values := pre_values &  defaultSys.contributions(income).contribution_band(10)'Img;
                        post_values := post_values & lasys.contributions(income).contribution_band(10)'Img;
                        titles := titles & "Contribution Band [10]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_proportion(1) /= lasys.contributions(capital).contribution_proportion(1) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_proportion(1)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_proportion(1)'Img;
                        titles := titles & "Contribution Proportion [1]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_band(1) /= lasys.contributions(capital).contribution_band(1) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_band(1)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_band(1)'Img;
                        titles := titles & "Contribution Band [1]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_proportion(2) /= lasys.contributions(capital).contribution_proportion(2) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_proportion(2)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_proportion(2)'Img;
                        titles := titles & "Contribution Proportion [2]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_band(2) /= lasys.contributions(capital).contribution_band(2) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_band(2)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_band(2)'Img;
                        titles := titles & "Contribution Band [2]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_proportion(3) /= lasys.contributions(capital).contribution_proportion(3) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_proportion(3)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_proportion(3)'Img;
                        titles := titles & "Contribution Proportion [3]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_band(3) /= lasys.contributions(capital).contribution_band(3) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_band(3)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_band(3)'Img;
                        titles := titles & "Contribution Band [3]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_proportion(4) /= lasys.contributions(capital).contribution_proportion(4) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_proportion(4)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_proportion(4)'Img;
                        titles := titles & "Contribution Proportion [4]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_band(4) /= lasys.contributions(capital).contribution_band(4) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_band(4)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_band(4)'Img;
                        titles := titles & "Contribution Band [4]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_proportion(5) /= lasys.contributions(capital).contribution_proportion(5) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_proportion(5)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_proportion(5)'Img;
                        titles := titles & "Contribution Proportion [5]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_band(5) /= lasys.contributions(capital).contribution_band(5) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_band(5)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_band(5)'Img;
                        titles := titles & "Contribution Band [5]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_proportion(6) /= lasys.contributions(capital).contribution_proportion(6) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_proportion(6)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_proportion(6)'Img;
                        titles := titles & "Contribution Proportion [6]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_band(6) /= lasys.contributions(capital).contribution_band(6) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_band(6)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_band(6)'Img;
                        titles := titles & "Contribution Band [6]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_proportion(7) /= lasys.contributions(capital).contribution_proportion(7) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_proportion(7)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_proportion(7)'Img;
                        titles := titles & "Contribution Proportion [7]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_band(7) /= lasys.contributions(capital).contribution_band(7) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_band(7)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_band(7)'Img;
                        titles := titles & "Contribution Band [7]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_proportion(8) /= lasys.contributions(capital).contribution_proportion(8) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_proportion(8)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_proportion(8)'Img;
                        titles := titles & "Contribution Proportion [8]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_band(8) /= lasys.contributions(capital).contribution_band(8) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_band(8)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_band(8)'Img;
                        titles := titles & "Contribution Band [8]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_proportion(9) /= lasys.contributions(capital).contribution_proportion(9) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_proportion(9)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_proportion(9)'Img;
                        titles := titles & "Contribution Proportion [9]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_band(9) /= lasys.contributions(capital).contribution_band(9) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_band(9)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_band(9)'Img;
                        titles := titles & "Contribution Band [9]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_proportion(10) /= lasys.contributions(capital).contribution_proportion(10) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_proportion(10)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_proportion(10)'Img;
                        titles := titles & "Contribution Proportion [10]";
                end if;

                if (print_all or ( defaultSys.contributions(capital).contribution_band(10) /= lasys.contributions(capital).contribution_band(10) )) then
                        pre_values := pre_values &  defaultSys.contributions(capital).contribution_band(10)'Img;
                        post_values := post_values & lasys.contributions(capital).contribution_band(10)'Img;
                        titles := titles & "Contribution Band [10]";
                end if;

      

      if print_all or
         (defaultSys.lower_limit (income, ctype) /= laSys.lower_limit (income, ctype))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.lower_limit (income, ctype));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.lower_limit (income, ctype));
         titles      := titles & "Lower Income Limit";
         Write
           (logger,
            "lower income limit has changed to " & laSys.lower_limit (income, ctype)'Img);
      end if;

      if print_all or
         (defaultSys.upper_limit (income, ctype) /= laSys.upper_limit (income, ctype))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.upper_limit (income, ctype));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.upper_limit (income, ctype));
         titles      := titles & "Upper Income Limit";
      end if;

      if print_all or (defaultSys.gross_IncomeLimit /= laSys.gross_IncomeLimit) then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.gross_IncomeLimit);
         post_values := post_values & format_utils.format_with_commas (laSys.gross_IncomeLimit);
         titles      := titles & "Gross Income Limit";
      end if;

      if print_all or
         (defaultSys.lower_limit (capital, ctype) /= laSys.lower_limit (capital, ctype))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.lower_limit (capital, ctype));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.lower_limit (capital, ctype));
         titles      := titles & "Capital: Lower Limit; normal claim ";
      end if;

      if print_all or
         (defaultSys.upper_limit (capital, ctype) /= laSys.upper_limit (capital, ctype))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.upper_limit (capital, ctype));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.upper_limit (capital, ctype));
         titles      := titles & "Capital: Upper Limit; normal claim ";
      end if;

      if print_all or
         (defaultSys.allow (income).child_age_limit (1) /=
          laSys.allow (income).child_age_limit (1))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allow (income).child_age_limit (1));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.allow (income).child_age_limit (1));
         titles      := titles & "First Child Age Limit ";
      end if;

      if print_all or
         (defaultSys.allow (income).child_age_limit (2) /=
          laSys.allow (income).child_age_limit (2))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allow (income).child_age_limit (2));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.allow (income).child_age_limit (2));
         titles      := titles & "2nd Child Age Limit ";
      end if;

      if print_all or
         (defaultSys.allow (income).child_age_limit (3) /=
          laSys.allow (income).child_age_limit (3))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allow (income).child_age_limit (3));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.allow (income).child_age_limit (3));
         titles      := titles & "Top Child Age Limit ";
      end if;

      if print_all or
         (defaultSys.allow (income).child_allowance (1) /=
          laSys.allow (income).child_allowance (1))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allow (income).child_allowance (1));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.allow (income).child_allowance (1));
         titles      := titles & "1st Child Allowance";
      end if;

      if print_all or
         (defaultSys.allow (income).child_allowance (2) /=
          laSys.allow (income).child_allowance (2))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allow (income).child_allowance (2));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.allow (income).child_allowance (2));
         titles      := titles & "2nd Child Allowance";
      end if;

      if print_all or
         (defaultSys.allow (income).child_allowance (3) /=
          laSys.allow (income).child_allowance (3))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allow (income).child_allowance (3));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.allow (income).child_allowance (3));
         titles      := titles & "3rd Child Allowance";
      end if;

      if print_all or
         (defaultSys.allow (income).partners_allowance /= laSys.allow (income).partners_allowance)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allow (income).partners_allowance);
         post_values := post_values &
                        format_utils.format_with_commas (laSys.allow (income).partners_allowance);
         titles      := titles & "Partner's Allowance";
      end if;

      if print_all or
         (defaultSys.allow (income).other_dependants_allowance /=
          laSys.allow (income).other_dependants_allowance)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allow (income).other_dependants_allowance);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allow (income).other_dependants_allowance);
         titles      := titles & "Other Dependent's allowance";
      end if;

      if print_all or
         (defaultSys.pensioner_age_limit (male) /= laSys.pensioner_age_limit (male))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.pensioner_age_limit (male));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.pensioner_age_limit (male));
         titles      := titles & "Pensioner Age Limit (Males)";
      end if;

      if print_all or
         (defaultSys.pensioner_age_limit (female) /= laSys.pensioner_age_limit (female))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.pensioner_age_limit (female));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.pensioner_age_limit (female));
         titles      := titles & "Pensioner Age Limit (Females)";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).disregard (1) /=
          laSys.capital_disregard (pensioner).disregard (1))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).disregard (1));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).disregard (1));
         titles      := titles & "Pensioner Capital Disregard [1]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).incomeLimit (1) /=
          laSys.capital_disregard (pensioner).incomeLimit (1))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).incomeLimit (1));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).incomeLimit (1));
         titles      := titles & "Pensioner Income Limit [1]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).disregard (2) /=
          laSys.capital_disregard (pensioner).disregard (2))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).disregard (2));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).disregard (2));
         titles      := titles & "Pensioner Capital Disregard [2]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).incomeLimit (2) /=
          laSys.capital_disregard (pensioner).incomeLimit (2))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).incomeLimit (2));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).incomeLimit (2));
         titles      := titles & "Pensioner Income Limit [2]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).disregard (3) /=
          laSys.capital_disregard (pensioner).disregard (3))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).disregard (3));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).disregard (3));
         titles      := titles & "Pensioner Capital Disregard [3]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).incomeLimit (3) /=
          laSys.capital_disregard (pensioner).incomeLimit (3))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).incomeLimit (3));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).incomeLimit (3));
         titles      := titles & "Pensioner Income Limit [3]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).disregard (4) /=
          laSys.capital_disregard (pensioner).disregard (4))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).disregard (4));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).disregard (4));
         titles      := titles & "Pensioner Capital Disregard [4]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).incomeLimit (4) /=
          laSys.capital_disregard (pensioner).incomeLimit (4))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).incomeLimit (4));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).incomeLimit (4));
         titles      := titles & "Pensioner Income Limit [4]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).disregard (5) /=
          laSys.capital_disregard (pensioner).disregard (5))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).disregard (5));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).disregard (5));
         titles      := titles & "Pensioner Capital Disregard [5]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).incomeLimit (5) /=
          laSys.capital_disregard (pensioner).incomeLimit (5))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).incomeLimit (5));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).incomeLimit (5));
         titles      := titles & "Pensioner Income Limit [5]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).disregard (6) /=
          laSys.capital_disregard (pensioner).disregard (6))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).disregard (6));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).disregard (6));
         titles      := titles & "Pensioner Capital Disregard [6]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).incomeLimit (6) /=
          laSys.capital_disregard (pensioner).incomeLimit (6))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).incomeLimit (6));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).incomeLimit (6));
         titles      := titles & "Pensioner Income Limit [6]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).disregard (7) /=
          laSys.capital_disregard (pensioner).disregard (7))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).disregard (7));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).disregard (7));
         titles      := titles & "Pensioner Capital Disregard [7]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).incomeLimit (7) /=
          laSys.capital_disregard (pensioner).incomeLimit (7))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).incomeLimit (7));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).incomeLimit (7));
         titles      := titles & "Pensioner Income Limit [7]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).disregard (8) /=
          laSys.capital_disregard (pensioner).disregard (8))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).disregard (8));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).disregard (8));
         titles      := titles & "Pensioner Capital Disregard [8]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).incomeLimit (8) /=
          laSys.capital_disregard (pensioner).incomeLimit (8))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).incomeLimit (8));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).incomeLimit (8));
         titles      := titles & "Pensioner Income Limit [8]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).disregard (9) /=
          laSys.capital_disregard (pensioner).disregard (9))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).disregard (9));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).disregard (9));
         titles      := titles & "Pensioner Capital Disregard [9]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).incomeLimit (9) /=
          laSys.capital_disregard (pensioner).incomeLimit (9))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).incomeLimit (9));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).incomeLimit (9));
         titles      := titles & "Pensioner Income Limit [9]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).disregard (10) /=
          laSys.capital_disregard (pensioner).disregard (10))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).disregard (10));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).disregard (10));
         titles      := titles & "Pensioner Capital Disregard [10]";
      end if;

      if print_all or
         (defaultSys.capital_disregard (pensioner).incomeLimit (10) /=
          laSys.capital_disregard (pensioner).incomeLimit (10))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.capital_disregard (pensioner).incomeLimit (10));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.capital_disregard (pensioner).incomeLimit (10));
         titles      := titles & "Pensioner Income Limit [10]";
      end if;

      if print_all or (defaultSys.incomesList (wages) /= laSys.incomesList (wages)) then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (wages));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (wages));
         titles      := titles & "Wages";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (wages) /= laSys.gross_IncomesList (wages))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.gross_IncomesList (wages));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.gross_IncomesList (wages));
         titles      := titles & "Wages: Gross Income";
      end if;

      if print_all or
         (defaultSys.incomesList (luncheon_Vouchers) /= laSys.incomesList (luncheon_Vouchers))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (luncheon_Vouchers));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (luncheon_Vouchers));
         titles      := titles & "Luncheon Vouchers";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (luncheon_Vouchers) /=
          laSys.gross_IncomesList (luncheon_Vouchers))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (luncheon_Vouchers));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (luncheon_Vouchers));
         titles      := titles & "Luncheon Vouchers (gross income measure)";
      end if;

      if print_all or
         (defaultSys.incomesList (self_Employment) /= laSys.incomesList (self_Employment))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (self_Employment));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (self_Employment));
         titles      := titles & "Self Employment";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (self_Employment) /=
          laSys.gross_IncomesList (self_Employment))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (self_Employment));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (self_Employment));
         titles      := titles & "Self Employment";
      end if;

      if print_all or
         (defaultSys.incomesList (investment_Income) /= laSys.incomesList (investment_Income))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (investment_Income));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (investment_Income));
         titles      := titles & "investment_income";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (investment_Income) /=
          laSys.gross_IncomesList (investment_Income))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (investment_Income));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (investment_Income));
         titles      := titles & "investment_income: Gross Income";
      end if;

      if print_all or (defaultSys.incomesList (pensions) /= laSys.incomesList (pensions)) then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (pensions));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (pensions));
         titles      := titles & "pensions";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (pensions) /= laSys.gross_IncomesList (pensions))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.gross_IncomesList (pensions));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.gross_IncomesList (pensions));
         titles      := titles & "pensions: Gross Income";
      end if;

      if print_all or
         (defaultSys.incomesList (other_Income) /= laSys.incomesList (other_Income))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (other_Income));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (other_Income));
         titles      := titles & "Other Income";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (other_Income) /= laSys.gross_IncomesList (other_Income))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (other_Income));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.gross_IncomesList (other_Income));
         titles      := titles & "Other Income: Gross Income";
      end if;

      if print_all or
         (defaultSys.incomesList (income_Tax) /= laSys.incomesList (income_Tax))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (income_Tax));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (income_Tax));
         titles      := titles & "Income Tax";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (income_Tax) /= laSys.gross_IncomesList (income_Tax))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (income_Tax));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.gross_IncomesList (income_Tax));
         titles      := titles & "Income Tax: Gross Income";
      end if;

      if print_all or
         (defaultSys.incomesList (national_insurance) /= laSys.incomesList (national_insurance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (national_insurance));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (national_insurance));
         titles      := titles & "National Insurance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (national_insurance) /=
          laSys.gross_IncomesList (national_insurance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (national_insurance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (national_insurance));
         titles      := titles & "National Insurance: Gross Income";
      end if;

      if print_all or
         (defaultSys.incomesList (disability_living_allowance) /=
          laSys.incomesList (disability_living_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (disability_living_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (disability_living_allowance));
         titles      := titles & "Disability Living Allowance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (disability_living_allowance) /=
          laSys.gross_IncomesList (disability_living_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (disability_living_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (disability_living_allowance));
         titles      := titles & "Disability Living Allowance: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (disability_living_allowance) /=
          laSys.passport_benefits (disability_living_allowance))
      then
         pre_values  := pre_values &
                        defaultSys.passport_benefits (disability_living_allowance)'Img;
         post_values := post_values & laSys.passport_benefits (disability_living_allowance)'Img;
         titles      := titles & "Disability Living Allowance (passported)";
      end if;

      if print_all or
         (defaultSys.incomesList (attendance_allowance) /=
          laSys.incomesList (attendance_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (attendance_allowance));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (attendance_allowance));
         titles      := titles & "Attendance Allowance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (attendance_allowance) /=
          laSys.gross_IncomesList (attendance_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (attendance_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (attendance_allowance));
         titles      := titles & "Attendance Allowance: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (attendance_allowance) /=
          laSys.passport_benefits (attendance_allowance))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (attendance_allowance)'Img;
         post_values := post_values & laSys.passport_benefits (attendance_allowance)'Img;
         titles      := titles & "Attendance Allowance: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (constantattendance_allowance) /=
          laSys.incomesList (constantattendance_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (constantattendance_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (constantattendance_allowance));
         titles      := titles & "Constant Attendance Allowance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (constantattendance_allowance) /=
          laSys.gross_IncomesList (constantattendance_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (constantattendance_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (constantattendance_allowance));
         titles      := titles & "Constant Attendance Allowance: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (constantattendance_allowance) /=
          laSys.passport_benefits (constantattendance_allowance))
      then
         pre_values  := pre_values &
                        defaultSys.passport_benefits (constantattendance_allowance)'Img;
         post_values := post_values & laSys.passport_benefits (constantattendance_allowance)'Img;
         titles      := titles & "Constant Attendance Allowance: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (social_fund) /= laSys.incomesList (social_fund))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (social_fund));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (social_fund));
         titles      := titles & "Social Fund";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (social_fund) /= laSys.gross_IncomesList (social_fund))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (social_fund));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.gross_IncomesList (social_fund));
         titles      := titles & "Social Fund: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (social_fund) /= laSys.passport_benefits (social_fund))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (social_fund)'Img;
         post_values := post_values & laSys.passport_benefits (social_fund)'Img;
         titles      := titles & "Social Fund: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (child_benefit) /= laSys.incomesList (child_benefit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (child_benefit));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (child_benefit));
         titles      := titles & "Child Benefit";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (child_benefit) /=
          laSys.gross_IncomesList (child_benefit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (child_benefit));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.gross_IncomesList (child_benefit));
         titles      := titles & "Child Benefit: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (child_benefit) /=
          laSys.passport_benefits (child_benefit))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (child_benefit)'Img;
         post_values := post_values & laSys.passport_benefits (child_benefit)'Img;
         titles      := titles & "Child Benefit: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (guaranteed_pension_credit) /=
          laSys.incomesList (guaranteed_pension_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (guaranteed_pension_credit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (guaranteed_pension_credit));
         titles      := titles & "Guaranteed Pension Credit";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (guaranteed_pension_credit) /=
          laSys.gross_IncomesList (guaranteed_pension_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (guaranteed_pension_credit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (guaranteed_pension_credit));
         titles      := titles & "Guaranteed Pension Credit: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (guaranteed_pension_credit) /=
          laSys.passport_benefits (guaranteed_pension_credit))
      then
         pre_values  := pre_values &
                        defaultSys.passport_benefits (guaranteed_pension_credit)'Img;
         post_values := post_values & laSys.passport_benefits (guaranteed_pension_credit)'Img;
         titles      := titles & "Guaranteed Pension Credit: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (savings_pension_credit) /=
          laSys.incomesList (savings_pension_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (savings_pension_credit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (savings_pension_credit));
         titles      := titles & "Savings Pension Credit";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (savings_pension_credit) /=
          laSys.gross_IncomesList (savings_pension_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (savings_pension_credit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (savings_pension_credit));
         titles      := titles & "Savings Pension Credit: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (savings_pension_credit) /=
          laSys.passport_benefits (savings_pension_credit))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (savings_pension_credit)'Img;
         post_values := post_values & laSys.passport_benefits (savings_pension_credit)'Img;
         titles      := titles & "Savings Pension Credit: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (retirement_pension) /= laSys.incomesList (retirement_pension))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (retirement_pension));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (retirement_pension));
         titles      := titles & "Retirement Pension";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (retirement_pension) /=
          laSys.gross_IncomesList (retirement_pension))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (retirement_pension));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (retirement_pension));
         titles      := titles & "Retirement Pension: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (retirement_pension) /=
          laSys.passport_benefits (retirement_pension))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (retirement_pension)'Img;
         post_values := post_values & laSys.passport_benefits (retirement_pension)'Img;
         titles      := titles & "Retirement Pension: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (widows_pensions) /= laSys.incomesList (widows_pensions))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (widows_pensions));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (widows_pensions));
         titles      := titles & "Widows pensions";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (widows_pensions) /=
          laSys.gross_IncomesList (widows_pensions))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (widows_pensions));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (widows_pensions));
         titles      := titles & "Widows pensions: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (widows_pensions) /=
          laSys.passport_benefits (widows_pensions))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (widows_pensions)'Img;
         post_values := post_values & laSys.passport_benefits (widows_pensions)'Img;
         titles      := titles & "Widows pensions: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (income_support) /= laSys.incomesList (income_support))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (income_support));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (income_support));
         titles      := titles & "Income Support";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (income_support) /=
          laSys.gross_IncomesList (income_support))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (income_support));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.gross_IncomesList (income_support));
         titles      := titles & "Income Support: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (income_support) /=
          laSys.passport_benefits (income_support))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (income_support)'Img;
         post_values := post_values & laSys.passport_benefits (income_support)'Img;
         titles      := titles & "Income Support: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (maternity_allowance) /=
          laSys.incomesList (maternity_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (maternity_allowance));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (maternity_allowance));
         titles      := titles & "Maternity Allowance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (maternity_allowance) /=
          laSys.gross_IncomesList (maternity_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (maternity_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (maternity_allowance));
         titles      := titles & "Maternity Allowance: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (maternity_allowance) /=
          laSys.passport_benefits (maternity_allowance))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (maternity_allowance)'Img;
         post_values := post_values & laSys.passport_benefits (maternity_allowance)'Img;
         titles      := titles & "Maternity Allowance: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (widowed_mothers_allowance) /=
          laSys.incomesList (widowed_mothers_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (widowed_mothers_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (widowed_mothers_allowance));
         titles      := titles & "Widowed Mothers Allowance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (widowed_mothers_allowance) /=
          laSys.gross_IncomesList (widowed_mothers_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (widowed_mothers_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (widowed_mothers_allowance));
         titles      := titles & "Widowed Mothers Allowance: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (widowed_mothers_allowance) /=
          laSys.passport_benefits (widowed_mothers_allowance))
      then
         pre_values  := pre_values &
                        defaultSys.passport_benefits (widowed_mothers_allowance)'Img;
         post_values := post_values & laSys.passport_benefits (widowed_mothers_allowance)'Img;
         titles      := titles & "Widowed Mothers Allowance: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (war_disablement_pension) /=
          laSys.incomesList (war_disablement_pension))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (war_disablement_pension));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (war_disablement_pension));
         titles      := titles & "War Disablement Pension";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (war_disablement_pension) /=
          laSys.gross_IncomesList (war_disablement_pension))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (war_disablement_pension));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (war_disablement_pension));
         titles      := titles & "War Disablement Pension: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (war_disablement_pension) /=
          laSys.passport_benefits (war_disablement_pension))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (war_disablement_pension)'Img;
         post_values := post_values & laSys.passport_benefits (war_disablement_pension)'Img;
         titles      := titles & "War Disablement Pension: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (war_widow_pension) /= laSys.incomesList (war_widow_pension))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (war_widow_pension));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (war_widow_pension));
         titles      := titles & "War Widow Pension";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (war_widow_pension) /=
          laSys.gross_IncomesList (war_widow_pension))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (war_widow_pension));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (war_widow_pension));
         titles      := titles & "War Widow Pension: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (war_widow_pension) /=
          laSys.passport_benefits (war_widow_pension))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (war_widow_pension)'Img;
         post_values := post_values & laSys.passport_benefits (war_widow_pension)'Img;
         titles      := titles & "War Widow Pension: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (severe_disability_allowance) /=
          laSys.incomesList (severe_disability_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (severe_disability_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (severe_disability_allowance));
         titles      := titles & "Severe Disability Allowance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (severe_disability_allowance) /=
          laSys.gross_IncomesList (severe_disability_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (severe_disability_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (severe_disability_allowance));
         titles      := titles & "Severe Disability Allowance: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (severe_disability_allowance) /=
          laSys.passport_benefits (severe_disability_allowance))
      then
         pre_values  := pre_values &
                        defaultSys.passport_benefits (severe_disability_allowance)'Img;
         post_values := post_values & laSys.passport_benefits (severe_disability_allowance)'Img;
         titles      := titles & "Severe Disability Allowance: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (disabled_persons_tax_credit) /=
          laSys.incomesList (disabled_persons_tax_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (disabled_persons_tax_credit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (disabled_persons_tax_credit));
         titles      := titles & "Disabled Persons Tax Credit";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (disabled_persons_tax_credit) /=
          laSys.gross_IncomesList (disabled_persons_tax_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (disabled_persons_tax_credit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (disabled_persons_tax_credit));
         titles      := titles & "Disabled Persons Tax Credit: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (disabled_persons_tax_credit) /=
          laSys.passport_benefits (disabled_persons_tax_credit))
      then
         pre_values  := pre_values &
                        defaultSys.passport_benefits (disabled_persons_tax_credit)'Img;
         post_values := post_values & laSys.passport_benefits (disabled_persons_tax_credit)'Img;
         titles      := titles & "Disabled Persons Tax Credit: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (invalid_care_allowance) /=
          laSys.incomesList (invalid_care_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (invalid_care_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (invalid_care_allowance));
         titles      := titles & "Invalid Care Allowance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (invalid_care_allowance) /=
          laSys.gross_IncomesList (invalid_care_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (invalid_care_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (invalid_care_allowance));
         titles      := titles & "Invalid Care Allowance: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (invalid_care_allowance) /=
          laSys.passport_benefits (invalid_care_allowance))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (invalid_care_allowance)'Img;
         post_values := post_values & laSys.passport_benefits (invalid_care_allowance)'Img;
         titles      := titles & "Invalid Care Allowance: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (income_related_jobseekers_allowance) /=
          laSys.incomesList (income_related_jobseekers_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (income_related_jobseekers_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (income_related_jobseekers_allowance));
         titles      := titles & "Income RelatedJobseekers Allowance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (income_related_jobseekers_allowance) /=
          laSys.gross_IncomesList (income_related_jobseekers_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (income_related_jobseekers_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (income_related_jobseekers_allowance));
         titles      := titles & "Income RelatedJobseekers Allowance: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (income_related_jobseekers_allowance) /=
          laSys.passport_benefits (income_related_jobseekers_allowance))
      then
         pre_values  := pre_values &
                        defaultSys.passport_benefits (income_related_jobseekers_allowance)'Img;
         post_values := post_values &
                        laSys.passport_benefits (income_related_jobseekers_allowance)'Img;
         titles      := titles & "Income RelatedJobseekers Allowance: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (contributory_jobseekers_allowance) /=
          laSys.incomesList (contributory_jobseekers_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (contributory_jobseekers_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (contributory_jobseekers_allowance));
         titles      := titles & "Contributory Jobseekers Allowance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (contributory_jobseekers_allowance) /=
          laSys.gross_IncomesList (contributory_jobseekers_allowance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (contributory_jobseekers_allowance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (contributory_jobseekers_allowance));
         titles      := titles & "Contributory Jobseekers Allowance: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (contributory_jobseekers_allowance) /=
          laSys.passport_benefits (contributory_jobseekers_allowance))
      then
         pre_values  := pre_values &
                        defaultSys.passport_benefits (contributory_jobseekers_allowance)'Img;
         post_values := post_values &
                        laSys.passport_benefits (contributory_jobseekers_allowance)'Img;
         titles      := titles & "Contributory Jobseekers Allowance: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (industrial_injury_disablementBenefit) /=
          laSys.incomesList (industrial_injury_disablementBenefit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (industrial_injury_disablementBenefit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (industrial_injury_disablementBenefit));
         titles      := titles & "Industrial Injury Disablement Benefit";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (industrial_injury_disablementBenefit) /=
          laSys.gross_IncomesList (industrial_injury_disablementBenefit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (industrial_injury_disablementBenefit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (industrial_injury_disablementBenefit));
         titles      := titles & "Industrial Injury Disablement Benefit: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (industrial_injury_disablementBenefit) /=
          laSys.passport_benefits (industrial_injury_disablementBenefit))
      then
         pre_values  := pre_values &
                        defaultSys.passport_benefits (industrial_injury_disablementBenefit)'Img;
         post_values := post_values &
                        laSys.passport_benefits (industrial_injury_disablementBenefit)'Img;
         titles      := titles & "Industrial Injury Disablement Benefit: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (incapacity_benefit) /= laSys.incomesList (incapacity_benefit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (incapacity_benefit));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (incapacity_benefit));
         titles      := titles & "Incapacity Benefit";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (incapacity_benefit) /=
          laSys.gross_IncomesList (incapacity_benefit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (incapacity_benefit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (incapacity_benefit));
         titles      := titles & "Incapacity Benefit: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (incapacity_benefit) /=
          laSys.passport_benefits (incapacity_benefit))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (incapacity_benefit)'Img;
         post_values := post_values & laSys.passport_benefits (incapacity_benefit)'Img;
         titles      := titles & "Incapacity Benefit: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (working_families_tax_credit) /=
          laSys.incomesList (working_families_tax_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (working_families_tax_credit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (working_families_tax_credit));
         titles      := titles & "Working Families Tax Credit";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (working_families_tax_credit) /=
          laSys.gross_IncomesList (working_families_tax_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (working_families_tax_credit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (working_families_tax_credit));
         titles      := titles & "WFTC: Gross Incomes";
      end if;

      if print_all or
         (defaultSys.passport_benefits (working_families_tax_credit) /=
          laSys.passport_benefits (working_families_tax_credit))
      then
         pre_values  := pre_values &
                        defaultSys.passport_benefits (working_families_tax_credit)'Img;
         post_values := post_values & laSys.passport_benefits (working_families_tax_credit)'Img;
         titles      := titles & "WFTC: Passported";
      end if;

      if print_all or (defaultSys.incomesList (new_deal) /= laSys.incomesList (new_deal)) then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (new_deal));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (new_deal));
         titles      := titles & "New Deal";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (new_deal) /= laSys.gross_IncomesList (new_deal))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.gross_IncomesList (new_deal));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.gross_IncomesList (new_deal));
         titles      := titles & "New Deal: Gross Incomes";
      end if;

      if print_all or
         (defaultSys.passport_benefits (new_deal) /= laSys.passport_benefits (new_deal))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (new_deal)'Img;
         post_values := post_values & laSys.passport_benefits (new_deal)'Img;
         titles      := titles & "New Deal: Passported";
      end if;

      if print_all or
         (defaultSys.incomesList (working_tax_credit) /= laSys.incomesList (working_tax_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (working_tax_credit));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (working_tax_credit));
         titles      := titles & "Working Tax Credit";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (working_tax_credit) /=
          laSys.gross_IncomesList (working_tax_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (working_tax_credit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (working_tax_credit));
         titles      := titles & "Working Tax Credit: Gross Incomes";
      end if;

      if print_all or
         (defaultSys.passport_benefits (working_tax_credit) /=
          laSys.passport_benefits (working_tax_credit))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (working_tax_credit)'Img;
         post_values := post_values & laSys.passport_benefits (working_tax_credit)'Img;
         titles      := titles & "Working TAx Credit: Passported";
      end if;

      if print_all or
         (defaultSys.incomesList (child_tax_credit) /= laSys.incomesList (child_tax_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (child_tax_credit));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (child_tax_credit));
         titles      := titles & "Child Tax Credit";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (child_tax_credit) /=
          laSys.gross_IncomesList (child_tax_credit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (child_tax_credit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (child_tax_credit));
         titles      := titles & "Child Tax Credit : Gross Incomes";
      end if;

      if print_all or
         (defaultSys.passport_benefits (child_tax_credit) /=
          laSys.passport_benefits (child_tax_credit))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (child_tax_credit)'Img;
         post_values := post_values & laSys.passport_benefits (child_tax_credit)'Img;
         titles      := titles & "Child Tax Credit : Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (any_other_benefit) /= laSys.incomesList (any_other_benefit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (any_other_benefit));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (any_other_benefit));
         titles      := titles & "Any Other Benefit";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (any_other_benefit) /=
          laSys.gross_IncomesList (any_other_benefit))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (any_other_benefit));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (any_other_benefit));
         titles      := titles & "Any Other Benefit: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (any_other_benefit) /=
          laSys.passport_benefits (any_other_benefit))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (any_other_benefit)'Img;
         post_values := post_values & laSys.passport_benefits (any_other_benefit)'Img;
         titles      := titles & "Any Other Benefit: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (widows_payment) /= laSys.incomesList (widows_payment))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (widows_payment));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (widows_payment));
         titles      := titles & "Widows Payment";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (widows_payment) /=
          laSys.gross_IncomesList (widows_payment))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (widows_payment));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.gross_IncomesList (widows_payment));
         titles      := titles & "Widows Payment: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (widows_payment) /=
          laSys.passport_benefits (widows_payment))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (widows_payment)'Img;
         post_values := post_values & laSys.passport_benefits (widows_payment)'Img;
         titles      := titles & "Widows Payment: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (unemployment_redundancy_insurance) /=
          laSys.incomesList (unemployment_redundancy_insurance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (unemployment_redundancy_insurance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (unemployment_redundancy_insurance));
         titles      := titles & "Unemployment Redundancy Insurance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (unemployment_redundancy_insurance) /=
          laSys.gross_IncomesList (unemployment_redundancy_insurance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (unemployment_redundancy_insurance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (unemployment_redundancy_insurance));
         titles      := titles & "Unemployment Redundancy Insurance: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (unemployment_redundancy_insurance) /=
          laSys.passport_benefits (unemployment_redundancy_insurance))
      then
         pre_values  := pre_values &
                        defaultSys.passport_benefits (unemployment_redundancy_insurance)'Img;
         post_values := post_values &
                        laSys.passport_benefits (unemployment_redundancy_insurance)'Img;
         titles      := titles & "Unemployment Redundancy Insurance: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (winter_fuel_payments) /=
          laSys.incomesList (winter_fuel_payments))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (winter_fuel_payments));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (winter_fuel_payments));
         titles      := titles & "Winter Fuel Payments";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (winter_fuel_payments) /=
          laSys.gross_IncomesList (winter_fuel_payments))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (winter_fuel_payments));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (winter_fuel_payments));
         titles      := titles & "Winter Fuel Payments: Gross Income";
      end if;

      if print_all or
         (defaultSys.passport_benefits (winter_fuel_payments) /=
          laSys.passport_benefits (winter_fuel_payments))
      then
         pre_values  := pre_values & defaultSys.passport_benefits (winter_fuel_payments)'Img;
         post_values := post_values & laSys.passport_benefits (winter_fuel_payments)'Img;
         titles      := titles & "Winter Fuel Payments: Passporting";
      end if;

      if print_all or
         (defaultSys.incomesList (trade_union) /= laSys.incomesList (trade_union))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas (defaultSys.incomesList (trade_union));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (trade_union));
         titles      := titles & "Trade Union";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (trade_union) /= laSys.gross_IncomesList (trade_union))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (trade_union));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.gross_IncomesList (trade_union));
         titles      := titles & "Trade Union: Gross Income";
      end if;

      if print_all or
         (defaultSys.incomesList (friendly_society_benefits) /=
          laSys.incomesList (friendly_society_benefits))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (friendly_society_benefits));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (friendly_society_benefits));
         titles      := titles & "friendly Society Benefits";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (friendly_society_benefits) /=
          laSys.gross_IncomesList (friendly_society_benefits))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (friendly_society_benefits));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (friendly_society_benefits));
         titles      := titles & "friendly Society Benefits: Gross Income";
      end if;

      if print_all or
         (defaultSys.incomesList (private_sickness_scheme) /=
          laSys.incomesList (private_sickness_scheme))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (private_sickness_scheme));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (private_sickness_scheme));
         titles      := titles & "private Sickness Scheme";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (private_sickness_scheme) /=
          laSys.gross_IncomesList (private_sickness_scheme))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (private_sickness_scheme));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (private_sickness_scheme));
         titles      := titles & "private_sickness_scheme: Gross Income";
      end if;

      if print_all or
         (defaultSys.incomesList (accident_insurance_scheme) /=
          laSys.incomesList (accident_insurance_scheme))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (accident_insurance_scheme));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (accident_insurance_scheme));
         titles      := titles & "Accident Insurance Scheme";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (accident_insurance_scheme) /=
          laSys.gross_IncomesList (accident_insurance_scheme))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (accident_insurance_scheme));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (accident_insurance_scheme));
         titles      := titles & "accident Insurance Scheme: Gross Income";
      end if;

      if print_all or
         (defaultSys.incomesList (hospital_savings_scheme) /=
          laSys.incomesList (hospital_savings_scheme))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (hospital_savings_scheme));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.incomesList (hospital_savings_scheme));
         titles      := titles & "hospital Savings Scheme";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (hospital_savings_scheme) /=
          laSys.gross_IncomesList (hospital_savings_scheme))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (hospital_savings_scheme));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (hospital_savings_scheme));
         titles      := titles & "hospital Savings Scheme: Gross Income";
      end if;

      if print_all or
         (defaultSys.incomesList (health_insurance) /= laSys.incomesList (health_insurance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.incomesList (health_insurance));
         post_values := post_values &
                        format_utils.format_with_commas (laSys.incomesList (health_insurance));
         titles      := titles & "health Insurance";
      end if;

      if print_all or
         (defaultSys.gross_IncomesList (health_insurance) /=
          laSys.gross_IncomesList (health_insurance))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.gross_IncomesList (health_insurance));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.gross_IncomesList (health_insurance));
         titles      := titles & "health Insurance: Gross Income";
      end if;

      if print_all or
         (defaultSys.contributions (income).contribution_proportion (1) /=
          laSys.contributions (income).contribution_proportion (1))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.contributions (income).contribution_proportion (1));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.contributions (income).contribution_proportion (1));
         titles      := titles & "Contribution Proportion [1]";
      end if;

      if print_all or
         (defaultSys.contributions (income).contribution_band (1) /=
          laSys.contributions (income).contribution_band (1))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.contributions (income).contribution_band (1));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.contributions (income).contribution_band (1));
         titles      := titles & "Band [1]";
      end if;

      if print_all or
         (defaultSys.contributions (income).contribution_proportion (2) /=
          laSys.contributions (income).contribution_proportion (2))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.contributions (income).contribution_proportion (2));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.contributions (income).contribution_proportion (2));
         titles      := titles & "Contribution Proportion [2]";
      end if;

      if print_all or
         (defaultSys.contributions (income).contribution_band (2) /=
          laSys.contributions (income).contribution_band (2))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.contributions (income).contribution_band (2));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.contributions (income).contribution_band (2));
         titles      := titles & "Band [2]";
      end if;

      if print_all or
         (defaultSys.contributions (income).contribution_proportion (3) /=
          laSys.contributions (income).contribution_proportion (3))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.contributions (income).contribution_proportion (3));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.contributions (income).contribution_proportion (3));
         titles      := titles & "Contribution Proportion [3]";
      end if;

      if print_all or
         (defaultSys.contributions (income).contribution_band (3) /=
          laSys.contributions (income).contribution_band (3))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.contributions (income).contribution_band (3));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.contributions (income).contribution_band (3));
         titles      := titles & "Band [3]";
      end if;

      if print_all or
         (defaultSys.contributions (capital).contribution_proportion (1) /=
          laSys.contributions (capital).contribution_proportion (1))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.contributions (capital).contribution_proportion (1));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.contributions (capital).contribution_proportion (1));
         titles      := titles & "Capital Contribution Proportion [1]";
      end if;

      if print_all or
         (defaultSys.contributions (capital).contribution_band (1) /=
          laSys.contributions (capital).contribution_band (1))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.contributions (capital).contribution_band (1));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.contributions (capital).contribution_band (1));
         titles      := titles & "Band [1]";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (travel_expenses).is_flat /=
          laSys.allowable_expenses (travel_expenses).is_flat)
      then
         pre_values  := pre_values & defaultSys.allowable_expenses (travel_expenses).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (travel_expenses).is_flat'Img;
         titles      := titles & "travel_expenses";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (travel_expenses).amount /=
          laSys.allowable_expenses (travel_expenses).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (travel_expenses).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_expenses (travel_expenses).amount);
         titles      := titles & "travel_expenses";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (pension).is_flat /=
          laSys.allowable_expenses (pension).is_flat)
      then
         pre_values  := pre_values & defaultSys.allowable_expenses (pension).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (pension).is_flat'Img;
         titles      := titles & "pension";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (pension).amount /=
          laSys.allowable_expenses (pension).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (pension).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_expenses (pension).amount);
         titles      := titles & "pension";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (avcs).is_flat /= laSys.allowable_expenses (avcs).is_flat)
      then
         pre_values  := pre_values & defaultSys.allowable_expenses (avcs).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (avcs).is_flat'Img;
         titles      := titles & "avcs";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (avcs).amount /= laSys.allowable_expenses (avcs).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (avcs).amount);
         post_values := post_values &
                        format_utils.format_with_commas (laSys.allowable_expenses (avcs).amount);
         titles      := titles & "avcs";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (union_fees).is_flat /=
          laSys.allowable_expenses (union_fees).is_flat)
      then
         pre_values  := pre_values & defaultSys.allowable_expenses (union_fees).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (union_fees).is_flat'Img;
         titles      := titles & "union_fees";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (union_fees).amount /=
          laSys.allowable_expenses (union_fees).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (union_fees).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_expenses (union_fees).amount);
         titles      := titles & "union_fees";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (childminding).is_flat /=
          laSys.allowable_expenses (childminding).is_flat)
      then
         pre_values  := pre_values & defaultSys.allowable_expenses (childminding).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (childminding).is_flat'Img;
         titles      := titles & "childMinding";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (childminding).amount /=
          laSys.allowable_expenses (childminding).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (childminding).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_expenses (childminding).amount);
         titles      := titles & "childMinding";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (friendly_societies).is_flat /=
          laSys.allowable_expenses (friendly_societies).is_flat)
      then
         pre_values  := pre_values &
                        defaultSys.allowable_expenses (friendly_societies).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (friendly_societies).is_flat'Img;
         titles      := titles & "friendly_societies";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (friendly_societies).amount /=
          laSys.allowable_expenses (friendly_societies).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (friendly_societies).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_expenses (friendly_societies).amount);
         titles      := titles & "friendly_societies";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (sports).is_flat /=
          laSys.allowable_expenses (sports).is_flat)
      then
         pre_values  := pre_values & defaultSys.allowable_expenses (sports).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (sports).is_flat'Img;
         titles      := titles & "sports";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (sports).amount /=
          laSys.allowable_expenses (sports).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (sports).amount);
         post_values := post_values &
                        format_utils.format_with_commas (laSys.allowable_expenses (sports).amount);
         titles      := titles & "sports";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (loan_repayments).is_flat /=
          laSys.allowable_expenses (loan_repayments).is_flat)
      then
         pre_values  := pre_values & defaultSys.allowable_expenses (loan_repayments).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (loan_repayments).is_flat'Img;
         titles      := titles & "loan_repayments";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (loan_repayments).amount /=
          laSys.allowable_expenses (loan_repayments).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (loan_repayments).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_expenses (loan_repayments).amount);
         titles      := titles & "loan_repayments";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (medical_insurance).is_flat /=
          laSys.allowable_expenses (medical_insurance).is_flat)
      then
         pre_values  := pre_values &
                        defaultSys.allowable_expenses (medical_insurance).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (medical_insurance).is_flat'Img;
         titles      := titles & "medical_insurance";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (medical_insurance).amount /=
          laSys.allowable_expenses (medical_insurance).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (medical_insurance).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_expenses (medical_insurance).amount);
         titles      := titles & "medical_insurance";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (charities).is_flat /=
          laSys.allowable_expenses (charities).is_flat)
      then
         pre_values  := pre_values & defaultSys.allowable_expenses (charities).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (charities).is_flat'Img;
         titles      := titles & "charities";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (charities).amount /=
          laSys.allowable_expenses (charities).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (charities).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_expenses (charities).amount);
         titles      := titles & "charities";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (maintenance_payments).is_flat /=
          laSys.allowable_expenses (maintenance_payments).is_flat)
      then
         pre_values  := pre_values &
                        defaultSys.allowable_expenses (maintenance_payments).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (maintenance_payments).is_flat'Img;
         titles      := titles & "maintenance_payments";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (maintenance_payments).amount /=
          laSys.allowable_expenses (maintenance_payments).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (maintenance_payments).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_expenses (maintenance_payments).amount);
         titles      := titles & "maintenance_payments";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (shared_rent).is_flat /=
          laSys.allowable_expenses (shared_rent).is_flat)
      then
         pre_values  := pre_values & defaultSys.allowable_expenses (shared_rent).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (shared_rent).is_flat'Img;
         titles      := titles & "shared_rent";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (shared_rent).amount /=
          laSys.allowable_expenses (shared_rent).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (shared_rent).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_expenses (shared_rent).amount);
         titles      := titles & "shared_rent";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (student_expenses).is_flat /=
          laSys.allowable_expenses (student_expenses).is_flat)
      then
         pre_values  := pre_values & defaultSys.allowable_expenses (student_expenses).is_flat'Img;
         post_values := post_values & laSys.allowable_expenses (student_expenses).is_flat'Img;
         titles      := titles & "student_expenses";
      end if;

      if print_all or
         (defaultSys.allowable_expenses (student_expenses).amount /=
          laSys.allowable_expenses (student_expenses).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_expenses (student_expenses).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_expenses (student_expenses).amount);
         titles      := titles & "student_expenses";
      end if;

      if print_all or
         (defaultSys.allowable_finance (loan_repayments).is_flat /=
          laSys.allowable_finance (loan_repayments).is_flat)
      then
         pre_values  := pre_values & defaultSys.allowable_finance (loan_repayments).is_flat'Img;
         post_values := post_values & laSys.allowable_finance (loan_repayments).is_flat'Img;
         titles      := titles & "loan_repayments ";
      end if;

      if print_all or
         (defaultSys.allowable_finance (loan_repayments).amount /=
          laSys.allowable_finance (loan_repayments).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_finance (loan_repayments).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_finance (loan_repayments).amount);
         titles      := titles & "loan_repayments ";
      end if;

      if print_all or
         (defaultSys.allowable_finance (fines_and_transfers).is_flat /=
          laSys.allowable_finance (fines_and_transfers).is_flat)
      then
         pre_values  := pre_values &
                        defaultSys.allowable_finance (fines_and_transfers).is_flat'Img;
         post_values := post_values & laSys.allowable_finance (fines_and_transfers).is_flat'Img;
         titles      := titles & "fines_and_transfers ";
      end if;

      if print_all or
         (defaultSys.allowable_finance (fines_and_transfers).amount /=
          laSys.allowable_finance (fines_and_transfers).amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allowable_finance (fines_and_transfers).amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allowable_finance (fines_and_transfers).amount);
         titles      := titles & "fines And Transfers ";
      end if;

      if print_all or
         (defaultSys.housing_allowances.mortgages.is_flat /=
          laSys.housing_allowances.mortgages.is_flat)
      then
         pre_values  := pre_values & defaultSys.housing_allowances.mortgages.is_flat'Img;
         post_values := post_values & laSys.housing_allowances.mortgages.is_flat'Img;
         titles      := titles & "mortgages";
      end if;

      if print_all or
         (defaultSys.housing_allowances.mortgages.amount /=
          laSys.housing_allowances.mortgages.amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.housing_allowances.mortgages.amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.housing_allowances.mortgages.amount);
         titles      := titles & "mortgages";
      end if;

      if print_all or
         (defaultSys.housing_allowances.council_tax.is_flat /=
          laSys.housing_allowances.council_tax.is_flat)
      then
         pre_values  := pre_values & defaultSys.housing_allowances.council_tax.is_flat'Img;
         post_values := post_values & laSys.housing_allowances.council_tax.is_flat'Img;
         titles      := titles & "Council Tax";
      end if;

      if print_all or
         (defaultSys.housing_allowances.council_tax.amount /=
          laSys.housing_allowances.council_tax.amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.housing_allowances.council_tax.amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.housing_allowances.council_tax.amount);
         titles      := titles & "Council Tax";
      end if;

      if print_all or
         (defaultSys.housing_allowances.water_rates.is_flat /=
          laSys.housing_allowances.water_rates.is_flat)
      then
         pre_values  := pre_values & defaultSys.housing_allowances.water_rates.is_flat'Img;
         post_values := post_values & laSys.housing_allowances.water_rates.is_flat'Img;
         titles      := titles & "water_rates";
      end if;

      if print_all or
         (defaultSys.housing_allowances.water_rates.amount /=
          laSys.housing_allowances.water_rates.amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.housing_allowances.water_rates.amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.housing_allowances.water_rates.amount);
         titles      := titles & "water_rates";
      end if;

      if print_all or
         (defaultSys.housing_allowances.ground_rent.is_flat /=
          laSys.housing_allowances.ground_rent.is_flat)
      then
         pre_values  := pre_values & defaultSys.housing_allowances.ground_rent.is_flat'Img;
         post_values := post_values & laSys.housing_allowances.ground_rent.is_flat'Img;
         titles      := titles & "ground Rent";
      end if;

      if print_all or
         (defaultSys.housing_allowances.ground_rent.amount /=
          laSys.housing_allowances.ground_rent.amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.housing_allowances.ground_rent.amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.housing_allowances.ground_rent.amount);
         titles      := titles & "ground Rent";
      end if;

      if print_all or
         (defaultSys.housing_allowances.service_charges.is_flat /=
          laSys.housing_allowances.service_charges.is_flat)
      then
         pre_values  := pre_values & defaultSys.housing_allowances.service_charges.is_flat'Img;
         post_values := post_values & laSys.housing_allowances.service_charges.is_flat'Img;
         titles      := titles & "service Charges";
      end if;

      if print_all or
         (defaultSys.housing_allowances.service_charges.amount /=
          laSys.housing_allowances.service_charges.amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.housing_allowances.service_charges.amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.housing_allowances.service_charges.amount);
         titles      := titles & "service Charges";
      end if;

      if print_all or
         (defaultSys.housing_allowances.repairs_and_insurance.is_flat /=
          laSys.housing_allowances.repairs_and_insurance.is_flat)
      then
         pre_values  := pre_values &
                        defaultSys.housing_allowances.repairs_and_insurance.is_flat'Img;
         post_values := post_values & laSys.housing_allowances.repairs_and_insurance.is_flat'Img;
         titles      := titles & "repairs And Insurance";
      end if;

      if print_all or
         (defaultSys.housing_allowances.repairs_and_insurance.amount /=
          laSys.housing_allowances.repairs_and_insurance.amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.housing_allowances.repairs_and_insurance.amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.housing_allowances.repairs_and_insurance.amount);
         titles      := titles & "repairs And Insurance";
      end if;

      if print_all or
         (defaultSys.housing_allowances.rent.is_flat /= laSys.housing_allowances.rent.is_flat)
      then
         pre_values  := pre_values & defaultSys.housing_allowances.rent.is_flat'Img;
         post_values := post_values & laSys.housing_allowances.rent.is_flat'Img;
         titles      := titles & "rent";
      end if;

      if print_all or
         (defaultSys.housing_allowances.rent.amount /= laSys.housing_allowances.rent.amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.housing_allowances.rent.amount);
         post_values := post_values &
                        format_utils.format_with_commas (laSys.housing_allowances.rent.amount);
         titles      := titles & "rent";
      end if;

      if print_all or
         (defaultSys.housing_allowances.council_tax_rebates.is_flat /=
          laSys.housing_allowances.council_tax_rebates.is_flat)
      then
         pre_values  := pre_values &
                        defaultSys.housing_allowances.council_tax_rebates.is_flat'Img;
         post_values := post_values & laSys.housing_allowances.council_tax_rebates.is_flat'Img;
         titles      := titles & "Council Tax Rebates";
      end if;

      if print_all or
         (defaultSys.housing_allowances.council_tax_rebates.amount /=
          laSys.housing_allowances.council_tax_rebates.amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.housing_allowances.council_tax_rebates.amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.housing_allowances.council_tax_rebates.amount);
         titles      := titles & "Council Tax Rebates";
      end if;

      if print_all or
         (defaultSys.housing_allowances.council_tax_rebates.is_flat /=
          laSys.housing_allowances.council_tax_rebates.is_flat)
      then
         pre_values  := pre_values &
                        defaultSys.housing_allowances.council_tax_rebates.is_flat'Img;
         post_values := post_values & laSys.housing_allowances.council_tax_rebates.is_flat'Img;
         titles      := titles & "Council Tax Rebates";
      end if;

      if print_all or
         (defaultSys.housing_allowances.council_tax_rebates.amount /=
          laSys.housing_allowances.council_tax_rebates.amount)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.housing_allowances.council_tax_rebates.amount);
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.housing_allowances.council_tax_rebates.amount);
         titles      := titles & "Council Tax Rebates";
      end if;

      if print_all or
         (defaultSys.single_persons_housing_costs_max /= laSys.single_persons_housing_costs_max)
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.single_persons_housing_costs_max);
         post_values := post_values &
                        format_utils.format_with_commas (laSys.single_persons_housing_costs_max);
         titles      := titles & "single Persons Housing Costs Max";
      end if;

      if print_all or
         (defaultSys.allow (capital).dependent_allowances (1) /=
          laSys.allow (capital).dependent_allowances (1))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allow (capital).dependent_allowances (1));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allow (capital).dependent_allowances (1));
         titles      := titles & "Dependents allowance: dependent [1]";
      end if;

      if print_all or
         (defaultSys.allow (capital).dependent_allowances (2) /=
          laSys.allow (capital).dependent_allowances (2))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allow (capital).dependent_allowances (2));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allow (capital).dependent_allowances (2));
         titles      := titles & "Dependents allowance: dependent [2]";
      end if;

      if print_all or
         (defaultSys.allow (capital).dependent_allowances (3) /=
          laSys.allow (capital).dependent_allowances (3))
      then
         pre_values  := pre_values &
                        format_utils.format_with_commas
                           (defaultSys.allow (capital).dependent_allowances (3));
         post_values := post_values &
                        format_utils.format_with_commas
                           (laSys.allow (capital).dependent_allowances (3));
         titles      := titles & "Dependents allowance: dependent [3]";
      end if;
      if print_all or
         (defaultSys.equivalise_gross_income_limit /= laSys.equivalise_gross_income_limit)
      then
         pre_values  := pre_values & defaultSys.equivalise_gross_income_limit'Img;
         post_values := post_values & defaultSys.equivalise_gross_income_limit'Img;
         titles      := titles & "Equivalise Gross Income Limit";
      end if;
   end make_parameters_tags;
   -- ======= end autogenerated ==

   procedure make_differences_translations_table
     (defaultSys, laSys     : Legal_Aid_Sys;
      trans                 : in out LA_Translate_Table;
      ctype                 : Claim_Type;
      insert_Start_Position : Integer;
      print_all             : Boolean := False)
   is
      post_values, pre_values, titles : Templates_Parser.Tag;

   begin
      make_parameters_tags (defaultSys, laSys, ctype, pre_values, post_values, titles, print_all);
      trans (insert_Start_Position + 1) := Templates_Parser.Assoc ("TITLE", titles);
      trans (insert_Start_Position + 2) := Templates_Parser.Assoc ("PRE-VALUE", pre_values);
      trans (insert_Start_Position + 3) := Templates_Parser.Assoc ("POST-VALUE", post_values);

   end make_differences_translations_table;

   --
   --  Write out all the parameters in comma- seperated values.
   --  lines need to be separated by DOS cr/lfs see: http://www.rfc-editor.org/rfc/rfc4180.txt
   --  And we have "s round the parameter labels.
   --
   function convert_parameters_to_csv
     (defaultSys, laSys : Legal_Aid_Sys;
      ctype             : Claim_Type)
      return              String
   is
      post_values, pre_values, titles : Templates_Parser.Tag;
      param_size                      : Natural;
      outs                            : Unbounded_String := To_Unbounded_String ("");
   begin
      make_parameters_tags (defaultSys, laSys, ctype, pre_values, post_values, titles, True);
      param_size := Templates_Parser.Size (pre_values);
      for i in  1 .. param_size loop
         outs := outs & '"' & Templates_Parser.Item (titles, i) & '"' & ",";  --  text_utils.stda.HT
                                                                              --;
         outs := outs & Templates_Parser.Item (pre_values, i) & ","; --  text_utils.stda.HT;
         outs := outs & Templates_Parser.Item (post_values, i) & Text_Utils.DOS_NEW_LINE;
      end loop;
      return To_String (outs);
   end convert_parameters_to_csv;
end differences_generator;
